{"version":3,"sources":["components/MiMensaje.jsx","components/SuMensaje.jsx","components/MensajeForm.jsx","components/ChatFeed.jsx","components/LoginForm.jsx","App.js","index.js"],"names":["MiMensaje","message","attachments","length","exec","file","src","style","float","controls","alt","className","marginRight","color","backgroundColor","text","SuMensaje","lastMessage","esPrimerMsjdelUsuario","sender","username","marginLeft","MensajeForm","props","mediaRecorder","useState","value","setValue","chatId","creds","audioChunks","handleMouse","event","type","navigator","mediaDevices","getUserMedia","audio","then","stream","MediaRecorder","addEventListener","push","data","start","Promise","resolve","audioBlob","Blob","audioFile","File","list","DataTransfer","items","add","myFileList","files","sendMessage","stop","handleSubmit","preventDefault","trim","onSubmit","placeholder","onChange","target","isTyping","htmlFor","PictureOutlined","multiple","accept","id","display","console","log","bind","AudioOutlined","onMouseDown","onMouseUp","SendOutlined","ChatFeed","chats","activeChat","userName","messages","chat","renderReadReceipts","esMiMensaje","people","map","person","index","last_read","backgroundImage","avatar","title","keys","Object","key","mensaje","ultimoMsjKey","width","renderMessages","height","projectID","Login","setUsername","password","setPassword","error","setError","estado","setEstado","e","a","authObject","axios","get","headers","localStorage","setItem","required","align","onClick","Register","config","method","url","response","catch","Fotos","ChatForm","chatID","publica","setPublica","users","getItem","forEach","element","header","name","App","entorno","setEntorno","LoginForm","userSecret","renderChatFeed","chatAppProps","renderNewChatForm","renderPhotosSettings","renderScrollDownBar","onNewMessage","Audio","play","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3c8bcee8.chunk.js","sourcesContent":["const MiMensaje = ({ message }) => {\n  \n  const audio = /(mp3|wav|ogg|webm|m4a)/;\n  \n  if (message.attachments && message.attachments.length > 0) {\n    if(audio.exec(message.attachments[0].file)){\n      return (\n      <audio src={message.attachments[0].file} style={{ float: 'right' }} controls>\n        No Funciona el audio\n      </audio>\n      );\n    }\n    else {\n      return (\n        <img\n          src={message.attachments[0].file}\n          alt=\"msj-adjunto\"\n          className=\"msj-img\"\n          style={{ float: 'right' }}\n        />\n      );}\n  }\n\n  return (\n    <div className=\"msj\" style={{ float: 'right', marginRight: '18px', color: 'white', backgroundColor: '#014670' }}>\n      {message.text}\n    </div>\n  );\n};\n\nexport default MiMensaje;\n","const SuMensaje = ({ lastMessage, message }) => {\n  const imagen = /(jpg|gif|png|jpeg)/;\n  const audio = /(mp3|wav|ogg|webm|m4a)/;\n  const esPrimerMsjdelUsuario = !lastMessage || lastMessage.sender.username !== message.sender.username;\n\n  if(message.attachments && message.attachments.length > 0) {\n    if(imagen.exec(message.attachments[0].file)) {\n    return (\n      <div className=\"msj-row\">\n        <div>\n        {esPrimerMsjdelUsuario &&(\n            <div className=\"msj-username\">\n              {message.sender.username}\n            </div>)}\n        <img\n       src={message.attachments[0].file}\n        alt=\"msj-adjunto\"\n       className=\"msj-img\"\n       style={{ marginLeft: '4px'}}\n      />\n        </div>\n      <div className=\"msj\" style={{ float: 'left', marginLeft: '4px' }}>\n{/*           {message.sender.username}\n */}        </div>\n      </div>\n    );\n    }\n    if(audio.exec(message.attachments[0].file)){\n      return(\n        <div className=\"msj-row\">\n          <div>\n          {esPrimerMsjdelUsuario &&(\n            <div className=\"msj-username\">\n              {message.sender.username}\n            </div>)}\n          <audio src={message.attachments[0].file} style={{ marginLeft: '4px'}} controls>\n          No Funciona el audio\n          </audio>\n          </div>\n          <div className=\"msj\" style={{ float: 'left', marginLeft: '4px'}}>\n{/*           {message.sender.username}\n */}        </div>\n        </div>\n      );\n    }\n    else{\n      return(\n        <div className=\"msj-row\">\n          ARCHIVO NO SOPORTADO\n          <div className=\"msj\" style={{ float: 'left', marginLeft: '4px'}}>\n          {message.sender.username}\n        </div>\n        </div>\n        \n      );\n    }\n    \n  }\n  else {\n    return(\n      <div className=\"msj-row\">\n        <div>\n        {esPrimerMsjdelUsuario &&(\n            <div className=\"msj-username\">\n              {message.sender.username}\n            </div>)}\n          <div className=\"msj\" style={{ float: 'left', backgroundColor: '#BFE6EF', marginLeft: '4px'}}>\n            {message.text}\n          </div>\n        </div>\n    </div>\n    );\n  }\n  \n  /* return (\n    <div className=\"msj-row\">\n      {isFirstMessageByUser && (\n        <div\n          className=\"msj-avatar\"\n          style={{ backgroundImage: message.sender && `url(${message.sender.avatar})` }}\n        />\n      )}\n      ----{message.attachments && message.attachments.length > 0 && imagen.exec(message.attachments[0].file)\n        ? (\n          <img\n            src={message.attachments[0].file}\n            alt=\"msj-adjunto\"\n            className=\"msj-img\"\n            style={{ marginLeft: isFirstMessageByUser ? '4px' : '48px' }}\n          />\n        )}\n        {message.attachments && message.attachments.length > 0 && audio.exec(message.attachments[0].file)\n         (\n          \n        )\n        : (\n          <div>\n            <div className=\"msj\" style={{ float: 'left', backgroundColor: '#BFE6EF', marginLeft: isFirstMessageByUser ? '4px' : '48px' }}>\n            {message.text}\n          </div>\n          <div className=\"msj\" style={{ float: 'left', marginLeft: isFirstMessageByUser ? '4px' : '48px' }}>\n            {message.sender.username}\n          </div>\n          </div>\n        )}\n    </div>\n  ); */\n};\n\nexport default SuMensaje;\n","import { useState } from 'react';\nimport { SendOutlined, PictureOutlined, AudioOutlined } from '@ant-design/icons';\nimport { sendMessage, isTyping } from 'react-chat-engine';\n\nconst MensajeForm = (props) => {\n  const [value, setValue] = useState('');\n  const { chatId, creds } = props;\n  let mediaRecorder\n  const audioChunks = [];\n\n  const handleMouse = (event) => {\n    if (event.type === \"mousedown\") {\n      const device = navigator.mediaDevices.getUserMedia({ audio: true });\n      device.then(stream => {\n        mediaRecorder = new MediaRecorder(stream);\n        mediaRecorder.addEventListener(\"dataavailable\", event => {\n        audioChunks.push(event.data);\n        });\n        mediaRecorder.start();\n      })\n\n    } else {\n        new Promise(resolve => {\n        mediaRecorder.addEventListener(\"stop\", () => {\n          const audioBlob = new Blob(audioChunks, { type: \"audio/wav\" });\n          let audioFile = new File([audioBlob], \"sound.wav\", {type: audioBlob.type})\n          let list = new DataTransfer()\n          list.items.add(audioFile);\n          let myFileList = list.files;\n          sendMessage(creds, chatId, { attachments: myFileList, text: '' });\n          resolve({ audioBlob });\n         });\n\n          mediaRecorder.stop();\n        });\n      } \n  }\n  \n  const handleChange = (event) => {\n    setValue(event.target.value);\n\n    isTyping(props, chatId);\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n\n    const text = value.trim();\n\n    if (text.length > 0) {\n      sendMessage(creds, chatId, { text });\n    }\n\n    setValue('');\n  };\n\n  const handleUpload = (event) => {\n    sendMessage(creds, chatId, { files: event.target.files, text: '' });\n    console.log(event.target.files)\n  };\n\n  \n  return (\n    <form className=\"msj-form\" onSubmit={handleSubmit}>\n      <input\n        className=\"msj-input\"\n        placeholder=\"Escribe tu mensaje aquí...\"\n        value={value}\n        onChange={handleChange}\n        onSubmit={handleSubmit}\n      />\n      <label htmlFor=\"upload-button\">\n        <span className=\"image-button\">\n          <PictureOutlined className=\"picture-icon\" />\n        </span>\n      </label>\n      <input\n        type=\"file\"\n        multiple={false}\n        accept=\"image/*, audio/*\"\n        id=\"upload-button\"\n        style={{ display: 'none' }}\n        onChange={handleUpload.bind(this)}\n      />\n      <label htmlFor=\"record\">\n        <span className=\"image-button\">\n          <AudioOutlined id=\"record\" onMouseDown={handleMouse} onMouseUp={handleMouse} className=\"picture-icon\" />\n        </span>\n      </label>\n      {/* <input\n        type=\"button\"\n        multiple={false}\n      /> */}\n\n      <button type=\"submit\" className=\"send-button\">\n        <SendOutlined className=\"send-icon\" />\n      </button>\n    </form>\n  );\n};\n\nexport default MensajeForm;\n","import MiMensaje from './MiMensaje';\nimport SuMensaje from './SuMensaje';\nimport MensajeForm from './MensajeForm';\n\nconst ChatFeed = (props) => {\n  const { chats, activeChat, userName, messages } = props;\n\n  const chat = chats && chats[activeChat];\n\n  const renderReadReceipts = (message, esMiMensaje) => {\n  return chat.people.map((person, index) => person.last_read === message.id && (\n    <div\n      key={`read_${index}`}\n      className=\"read-receipt\"\n      style={{\n        float: esMiMensaje ? 'right' : 'left',\n        backgroundImage:`url(${person.person.avatar})`,\n      }}\n    />\n  ));}\n\n  const renderMessages = () => {\n    const keys = Object.keys(messages);\n\n    return keys.map((key, index) => {\n      const mensaje = messages[key];\n      const ultimoMsjKey = index === 0 ? null : keys[index - 1];\n      const esMiMensaje = userName === mensaje.sender.username;\n\n      return (\n        <div key={`msg_${index}`} style={{ width: '100%' }}>\n          <div className=\"msj-block\">\n            {esMiMensaje\n              ? <MiMensaje message={mensaje} />\n              : <SuMensaje message={mensaje} lastMessage={messages[ultimoMsjKey]} />}\n          </div>\n          <div className=\"read-receipts\" style={{ marginRight: esMiMensaje ? '18px' : '0px', marginLeft: esMiMensaje ? '0px' : '68px' }}>\n            {renderReadReceipts(mensaje, esMiMensaje)}\n          </div>\n        </div>\n      );\n    });\n  };\n\n  if (!chat) return <div />;\n\n  return (\n    <div className=\"chat-feed\">\n      <div className=\"chat-titulo-container\">\n        <div className=\"chat-titulo\">{chat?.title}</div>\n        <div className=\"chat-subtitulo\">\n          {chat.people.map((person) => ` ${person.person.username}`)}\n        </div>\n      </div>\n\n      {renderMessages()}\n      <div style={{ height: '100px' }} />\n      <div className=\"msj-form-container\">\n        <MensajeForm {...props} chatId={activeChat} />\n      </div>\n    </div>\n  );\n};\n\n\nexport default ChatFeed;\n\n","import { useState } from 'react';\nimport axios from 'axios';\nimport App from '../App';\n\n\nconst projectID = '49b4a87e-d240-4bcd-8a01-b3adcf431810';\n\nfunction Login({ value = 0 }) {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const [estado, setEstado] = useState(value);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    const authObject = { 'Project-ID': projectID, 'User-Name': username, 'User-Secret': password };\n\n    try {\n      await axios.get('https://api.chatengine.io/chats', { headers: authObject });\n\n      localStorage.setItem('username', username);\n      localStorage.setItem('password', password);\n      setEstado(2);\n      setError('');\n    } catch (err) {\n      setError('Usuario y contraseña incorrectos');\n    }\n  };\n\n  function handleSubmit1(e) {\n    e.preventDefault();\n    setEstado(1);\n  }\n\n  if (estado === 0) {\n    return (\n      <div className=\"wrapper\">\n        <div className=\"form\">\n          <h1 className=\"title\">XUBIO Chat</h1>\n          <form onSubmit={handleSubmit}>\n            <input type=\"text\" value={username} onChange={(e) => setUsername(e.target.value)} className=\"input\" placeholder=\"Nickname\" required />\n            <input type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} className=\"input\" placeholder=\"Password\" required />\n            <div align=\"center\">\n              <button type=\"submit\" className=\"button\">\n                <span>Iniciar Sesion</span>\n              </button>\n            </div>\n          </form>\n          <div align=\"center\">\n            <button type=\"button\" className=\"button\" onClick={handleSubmit1}>\n              <span>Registrate</span>\n            </button>\n          </div>\n          <h2 className=\"error\">{error}</h2>\n        </div>\n      </div>\n    );\n  } if (estado === 1) {\n    return <Register />;\n  }if (estado === 2){\n    return <App value={ 1 }/>\n  }\n\n}\n\nfunction Register({ value = 0 }) {\n  const [estado, setEstado] = useState(value);\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    ////////////////////////////////////////////////////////////77\n    const authObject = { 'Project-ID': projectID, 'User-Name': username, 'User-Secret': password };\n    \n    try {\n      await axios.get('https://api.chatengine.io/users/me/', { headers: authObject });\n\n      localStorage.setItem('username', username);\n      localStorage.setItem('password', password);\n      setError('El usuario ingresado ya existe');\n    } catch (e) {\n      const data = {\"username\": username, \"secret\": password};\n    const config = {\n      method: 'put',\n      url: 'https://api.chatengine.io/users/',\n      headers: { \n        'PRIVATE-KEY': '480c381a-e095-4bac-9361-af4729e34fb6'\n      },\n      data : data\n    };\n    axios(config)\n    .then(function (response) {\n      setError('Registro Correcto');\n    })\n    .catch(function (error) {\n      setError('Error del servidor')\n    });\n    }\n  \n    /////////////////////////////////////////////////////////////\n    /* eslint-disable */\n    /* const data = {\"username\": username, \"secret\": password};\n    const config = {\n      method: 'put',\n      url: 'https://api.chatengine.io/users/',\n      headers: { \n        'PRIVATE-KEY': '480c381a-e095-4bac-9361-af4729e34fb6'\n      },\n      data : data\n    };\n    axios(config)\n    .then(function (response) {\n      setError('Registro Correcto');\n    })\n    .catch(function (error) {\n      setError('Error del servidor')\n    });\n     */\n    /* eslint-enabled */\n  };\n\n  function handleSubmit1(e) {\n    e.preventDefault();\n    setEstado(1);\n  }\n\n  if (estado === 0) {\n    return (\n      <div className=\"wrapper\">\n        <div className=\"form\">\n          <h1 className=\"title\">XUBIO Chat</h1>\n          <form onSubmit={handleSubmit}>\n            <input type=\"text\" value={username} onChange={(e) => setUsername(e.target.value)} className=\"input\" placeholder=\"Nickname\" required />\n            <input type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} className=\"input\" placeholder=\"Password\" required />\n            <div align=\"center\">\n              <button type=\"submit\" className=\"button\">\n                <span>Registrate</span>\n              </button>\n            </div>\n          </form>\n          <div align=\"center\">\n            <button type=\"button\" className=\"button\" onClick={handleSubmit1}>\n              <span>Atras</span>\n            </button>\n          </div>\n          <h2 className=\"error\" align=\"center\">{error}</h2>\n        </div>\n      </div>\n    );\n  } if (estado === 1) {\n    return <Login />;\n  }\n}\n\nexport default Login;\n","import { ChatEngine } from 'react-chat-engine';\nimport axios from 'axios';\nimport ChatFeed from './components/ChatFeed';\nimport LoginForm from './components/LoginForm';\nimport { useState } from 'react';\nimport { ScrollDownBar } from 'react-chat-engine';\n\n\nimport './App.css';\n\nconst projectID = '49b4a87e-d240-4bcd-8a01-b3adcf431810';\n\nfunction Fotos() {\n  return '';\n}\n\nfunction ChatForm() {\n  const [value, setValue] = useState('');\n  const [publica, setPublica] = useState('off');\n  const users = [];\n  let chatID;\n\n  const handleChangeSala = (event) => {\n    setValue(event.target.value);\n  };\n\n  const handleChangePublica = (event) => {\n    if(event.target.value === publica){\n      setPublica('off');\n    }\n    else{\n      setPublica(event.target.value);\n    }\n  }\n\n\n  function handleButtonSala(e) {\n   e.preventDefault();\n    if(publica === 'off'){\n      const text = value.trim();\n      /* eslint-disable */\n      const data = {\"title\": text, \"is_direct_chat\": false};\n      const header = { 'Project-ID': projectID, 'User-Name': localStorage.getItem('username'), 'User-Secret': localStorage.getItem('password') };\n      const config = {\n        method: 'post',\n        url: 'https://api.chatengine.io/chats/',\n        headers: header,\n        data : data\n      };\n      axios(config)\n      .then(function (response) {\n        console.log(\"creada\")\n      })\n      .catch(function (error) {\n        console.log(\"error\")\n      });\n  \n  \n      \n      /* eslint-enabled */\n    }\n    if(publica === 'on'){\n      const text = value.trim();\n    /* eslint-disable */\n    const data = {\"title\": text, \"is_direct_chat\": false};\n    const header = { 'Project-ID': projectID, 'User-Name': localStorage.getItem('username'), 'User-Secret': localStorage.getItem('password') };\n    const config = {\n      method: 'post',\n      url: 'https://api.chatengine.io/chats/',\n      headers: header,\n      data : data\n    };\n    axios(config)\n    .then(function (response) {\n      chatID = response.data.id;\n      const url = 'https://api.chatengine.io/chats/'+chatID+'/others/' \n      const header = { 'Project-ID': projectID, 'User-Name': localStorage.getItem('username'), 'User-Secret': localStorage.getItem('password') };\n      const config = {\n        method: 'get',\n        url: url,\n        headers: header\n      };\n      axios(config)\n      .then(function (response){\n        response.data.forEach(e => {\n          users.push({ \"username\" : e.username })\n        });\n\n          users.forEach(async element => {\n            const url = 'https://api.chatengine.io/chats/'+chatID+'/people/' \n            const users = element;\n            const header = { 'Project-ID': projectID, 'User-Name': localStorage.getItem('username'), 'User-Secret': localStorage.getItem('password') };\n            const config = {\n              method: 'post',\n              url: url,\n              headers: header,\n              data : users\n            };\n           await axios(config)\n            .then(function (response){\n              console.log(\"si\")\n            })\n          });\n      })\n      .catch()(function (error) {\n        console.log(\"error al crear la sala 2\")\n      });\n\n    })\n    .catch(function (error) {\n      console.log(\"error al crear la sala 1\")\n    });\n\n    /* eslint-enabled */\n    }\n\n  }\n\n  return (\n    <div align=\"center\" className=\"chat-seccion\">\n      <form onSubmit={handleButtonSala}>\n        <input className=\"sala-input\" type=\"text\" placeholder=\"Nombre sala...\" value={value} onChange={handleChangeSala} />\n        <button className=\"btn-crearsala\" type=\"submit\">Crear Sala +</button><br />\n        <div className=\"label-sala\">\n          <label className=\"label-publica\" htmlFor=\"publica\">Sala Publica</label>\n          <input className=\"input-publica\" type=\"checkbox\" id=\"publica\" name=\"publica\" onChange={handleChangePublica} />\n        </div>\n        </form>\n    </div>\n  );\n}\nconst App = ({ value = 0 }) => {\n  const [entorno, setEntorno] = useState(value);\n  \n  function handleSesion(e){\n    e.preventDefault();\n    localStorage.setItem('username', null)\n    localStorage.setItem('password', null)\n    setEntorno(0);\n  }\n\n  if (entorno === 0) return <LoginForm />;\n  if(entorno === 1){\n    return (\n      <div className=\"body\">\n        \n        \n        <header className=\"chat-header\">\n          <div className=\"chat-logo\">\n            XUBIO Chat\n          </div>\n          <div height=\"10vh\" >\n            <button className=\"btn-logout\" type=\"button\" onClick={ handleSesion }>Cerrar Sesión</button>\n          </div>\n        </header>\n       \n        <div>\n          <ChatEngine\n            height=\"90vh\"\n            projectID={projectID}\n            userName={localStorage.getItem('username')}\n            userSecret={localStorage.getItem('password')}\n            renderChatFeed={(chatAppProps) => <ChatFeed {...chatAppProps}/>}\n            renderNewChatForm={(creds) => <ChatForm creds={creds} />} \n            renderPhotosSettings={(chat) => <Fotos chat={chat} />}\n            renderScrollDownBar={(chat) => <ScrollDownBar chat={chat} />}\n            onNewMessage={() => new Audio('https://chat-engine-assets.s3.amazonaws.com/click.mp3').play()}\n          />\n        </div>\n      </div>\n    );\n  } \n  \n};\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}